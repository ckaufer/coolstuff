<script>
var levels = 10;
var points = 0;
var clevel = 1;
var lives = 5;
var mendel = 0; 
var speed = 1;
var isgoing=false;
var clicks=0;
var isstarted=false;
var items = [];
items[0] = {name:"joerge washingtin", price:700, image:"http://www.agaperenewalministry.com/images/icons/famouspeople.png",type:"j"};
items[1] = {name:"benny", price:750, image:"https://s3.amazonaws.com/smpv2-artists-image-large/664081.jpg", type:"j"};
items[2] = {name:"polise", price:700, image:"policeCar.png", type:"c", width:300, wleft:115,wtop:25};
items[3] = {name:"simple", price:1150, image:"http://carpaper.net/wp-content/uploads/2014/03/red-car-clipart.png", type:"c", width:425, wleft:175,wtop:10};
items[4] = {name:"cool0", price:1150, image:"http://www.clipartbest.com/cliparts/ace/K8z/aceK8zABi.png", type:"c", width:425, wleft:175,wtop:10};
items[5] = {name:"cool1", price:1150, image:"http://childrenstoy.biz/wp-content/uploads/matchbox-car-clip-art.png", type:"c", width:425, wleft:175,wtop:10};
items[6] = {name:"cool2", price:1150, image:"http://carpaper.net/wp-content/uploads/2014/01/moving-car-clipart.png", type:"c", width:425, wleft:175,wtop:10};
items[7] = {name:"cool3", price:1150, image:"http://www.clker.com/cliparts/J/0/Z/O/H/a/orange-car-hi.png", type:"c", width:425, wleft:175,wtop:10};
items[8] = {name:"cool4", price:1150, image:"http://www.clker.com/cliparts/b/a/z/8/t/S/pink-volkswagon-2-hi.png", type:"c", width:425, wleft:175,wtop:10};
items[9] = {name:"cool5", price:1150, image:"http://www.clipartbest.com/download?clipart=nTXBoadMc", type:"c", width:425, wleft:175,wtop:10};
items[10] = {name:"avraham", price:750, image:"http://matzav.com/wp-content/uploads/2009/09/avraham-fried.jpg", type:"j"};
items[11] = {name:"cool6", price:20500, image:"http://openclipart.org/image/2400px/svg_to_png/183902/dumptruck.png", type:"c", width:520, wleft:325,wtop:50};
items[12] = {name:"mii guy", price:900, image:"mii guy.png", type:"j"};

function howtoplay(){
alert("levels:\nclick on the car then click it again\nbefore it comes back around do that 6 times.\nthen you have compleded the level you or on.\nlives:\nyou have 5 lives if you miss the car\nafter it comes around you loose a life\nif it does not come around in your level you get a bonus.\nbonus:\nafter every level you get a bonus.\nthis bonus is your level cubed.")
}
function makestore(){
for(var a=0;a<items.length;a+=1){
if(items[a].type=="j"){
document.getElementById("people").innerHTML += '<li onclick="buy('+a+')"><img src="'+items[a].image+'" style="width:75px"></img><p>'+items[a].price+'</p></li>'
}
if(items[a].type=="c"){
document.getElementById("cars").innerHTML += '<li onclick="buy('+a+')"><img src="'+items[a].image+'" style="width:75px"></img><p>'+items[a].price+'</p></li>'
}
}

}
function pick(){
if(points>=1000){
var p=prompt("enter the link to your picture")
document.getElementById("picture").src=p
points-=1000
}
 else {
alert("You don't have enough money to buy this. Please get more points to do so!")
}
}
function gobackalevel(){
if(clevel>1){
refresh()
clevel -= 1
lives=5
mendel=0
speed -= 3
}
}
function store(){

if(document.getElementById("store").style.display=="block"){
document.getElementById("store").style.display="none"
}else{
document.getElementById("store").style.display="block"
}
}
function buy(item){
if(items[item].price <= points){
if(items[item].type=="j"){
document.getElementById("picture").src=items[item].image
}else if(items[item].type=="c"){
document.getElementById("car").src=items[item].image
document.getElementById("car").style.width=items[item].width+"px"
document.getElementById("picture").style.left=items[item].wleft+"px"
document.getElementById("picture").style.top=items[item].wtop+"px"
}
points -= items[item].price
refresh()
}else{
alert("You don't have enough money to buy this. Please get more points to do so!");
}
}

function refresh(){
document.getElementById("levelp").innerHTML="level "+clevel
document.getElementById("livesp").innerHTML="lives "+lives
document.getElementById("points").innerHTML="points "+points
document.getElementById("clicks").innerHTML="clicks left "+(6-clicks)
}
function car(){
if(isstarted)
{}
else{
var i = setInterval(move, 20);
isstarted=true;
makestore();
}
refresh();

if (lives>0 ){
if (isgoing==true){
if(clicks < 5) {
clicks+=1;
} else {
if(lives==5){
var bonus=clevel*clevel*clevel
points+=bonus
refresh()
alert("you have finishd level "+clevel+" with the bonus of "+bonus)}
else {
refresh()
alert("you have finishd level "+clevel+" with no bonus")}
clevel += 1
lives=5
mendel=0
speed += 3
clicks=0;

}points +=Math.round(mendel/2)
refresh()
isgoing=false
mendel = 0
} else{
isgoing = true
}
}

function move(){
document.getElementById("levelp").innerHTML="level"+clevel
document.getElementById("livesp").innerHTML="lives"+lives

if(isgoing==true) {

mendel+=speed;
}
if(mendel>2000){
mendel=0;
if(lives >0){
lives -= 1
}
else{
if (confirm("you lost your lives \n \n please press ok to restart level")){
lives=5
}
}
}
document.getElementById("image").style.left =  mendel + "px";
}


}
</script>
<style>
body {
background-image:url("gfd.png");
background-repeat: repeat-x;
background-size:600px
}
p{
color:white;
font-size:20px
}
#store{
width:200px;
height:300px;
background-color:green;
border:10px solid brown;
position:absolute;
left:300px;
display:none;
overflow:scroll
}
li{
border:5px solid black;width:100px
}
li:hover{
border:5px solid blue
}
</style>
 <button type="button"onclick="store()" style="position:absolute;left:200px">store</button>
<div id="store">
<ul id="people">

<li onclick="pick()">
<img src="pic.png" style="width:75px">
</img>
<p>
1000
</p>
</li>
</ul>
<ul id="cars"></ul>
</div>
<div id="image"style="position:absolute;top:230px " onclick="car()">
<img src="policeCar.png" style=70; "position:absolute;>
</img>
<img id="picture"src="http://www.shluchimkids.org/downloads/pending/files/276_1-DSC_0730%20-%20Copy.JPG" width="50"style="position:absolute; left:115; top:25px" >
</img>
</div>
<p id="levelp">level1</p>
<p id="livesp">lives5</p>
<p id="points">points0</p>
<p id="clicks">clicks0</p>
<button type="button"onclick="gobackalevel()" style="position:absolute;top:10px;left:500px">go back a level</button>
<button type="button"onclick="howtoplay()" style="position:absolute;top:50px;left:500px">how to play</button>
